<!DOCTYPE HTML>
<!--
	Main index file for My eFridge project for ElleHacks 2022.

	Starting template credit to:
	Fractal by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>My eFridge</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<link rel="icon" href="images/fridge.png">
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Header -->
		<header id="header">
			<div class="content" style="max-width: 40%;">
				<h1>
					<a href="#">My eFridge</a>
					<img src="images/fridge.png" alt="" />
				</h1>
				<p>Reduce waste, learn new recipes, save money!</p>
				<ul class="actions">
					<!-- Input food information: food, quantity, expiration date (optional), type -->
					<div class="col">
						<form action="#" id="food-info" onsubmit="return false;">
							<h4>Enter food item information below:</h4>
							<div class="col gtr-uniform" id="food-form">
								<div class="col-6 col-12-xsmall">
									<input type="text" name="demo-name" id="food-item" value="" placeholder="Food Item" style="margin-top: 1%;" required/>
								</div>
								<div class="col-6 col-12-xsmall">
									<input type="text" name="demo-email" id="food-amt" value="" placeholder="Amount" style="margin-top: 1%;"/>
								</div>
								<div class="row" style="margin-top: 1%;">
									<form action="#" onsubmit="return false;" id="extra-food-info">
										<div class="col-12">
											<select id="has-exp" name="has-exp" required>
												<option value="">Does this food item have an expiration date labelled?</option>
												<option value="Yes">Yes</option>
												<option value="No">No</option>
											</select>
											<input style="margin-top: 1%;" type="submit" onclick="addExpirationInput();" id="set-input" />
										</div>
									</form>	
								</div>
							</div>
							<div>
								<a href="#" class="button primary" style="margin-bottom: 1%;" onclick="addExpiration(); saveFoodItem();">Save food item</a>
							</div>
						</form>
						<!-- Button will lead to recipe generation website -->
						<li><a button onclick="location.href = 'https://recipegpt.org/';" target="_blank" id="recipeButton" href="#one" class="button primary" style="margin-bottom: 1%;">Make a recipe with what you have!</a></li>
						<!-- Button will lead to more information on how to use My eFridge -->
						<li><a href="#one" class="button icon solid fa-chevron-down scrolly">Learn More</a></li>
					</div>
				</ul>
			</div>
			<!-- Table to display information in fridge -->
			<div style="min-width: 30%;">
				<iframe src="https://calendar.google.com/calendar/embed?height=300&wkst=1&bgcolor=%23ffffff&ctz=America%2FToronto&showTitle=0&showNav=1&showPrint=0&showTabs=0&showTz=0&showCalendars=0&src=NGM3ZTVxZGNjb3Vqbmt0cGcwbThjbW1rMW9AZ3JvdXAuY2FsZW5kYXIuZ29vZ2xlLmNvbQ&color=%237986CB" style="border-width:0" width="400" height="300" frameborder="0" scrolling="no"></iframe>
				<section>
					<div class="table-wrapper" style="max-height: 256px;">
						<h5>Currently in the fridge:</h5>
						<table class="alt" id="fridge-table" style="overflow-y: scroll; overflow-x: hidden; background-color: aliceblue;">
							<thead>
								<tr>
									<th style="color:#4696e5">Food Item</th>
									<th style="color:#4696e5">Expiration Date</th>
									<th style="color:#4696e5">Amount Remaining</th>
								</tr>
							</thead>
							<tbody>
							</tbody>
						</table>
					</div>
				</section>
			</div>
		</header>

		<!-- About and How to Use My eFridge -->
		<section id="one" class="wrapper style2 special">
			<header class="major">
				<h2>About and How to Use My eFridge</h2>
			</header>
			<p>
				My eFridge allows businesses and household to keep track of items in their fridge.<br>
				It does this through the functionality below.
			</p>
		</section>

		<!-- Explanation of My eFridge functionality -->
		<section id="two" class="wrapper">
			<div class="inner alt">
				<section class="spotlight">
					<div class="image"><img src="images/insideFridge.jpg" alt="" /></div>
					<div class="content">
						<h3>Storing Fridge Items</h3>
						<p>
							Users can input information about items (name, amount, expiration date, type) in their fridge.
							This is done through the input containers to the left of the fridge.
						</p>
					</div>
				</section>
				<section class="spotlight">
					<div class="image"><img src="images/calendar.jpg" alt="" /></div>
					<div class="content">
						<h3>Calendar with Expiration Dates</h3>
						<p>
							Users receive alerts about items in their fridge with upcoming expiration dates.
							This will allow them to make decisions (e.g., use/donate) to reduce waste.
						</p>
					</div>
				</section>
				<section class="spotlight">
					<div class="image"><img src="images/recipe.jpg" alt="" /></div>
					<div class="content">
						<h3>AI Recipe Generator</h3>
						<p>
							My eFridge leverages an AI Recipe Generator to offer users ideas on how to use items with upcoming expiration dates.
						</p>
					</div>
				</section>
			</div>
		</section>

		<!-- Three -->
		<!-- To be removed -->
			<!--<section id="three" class="wrapper style2 special">
				<header class="major">
					<h2>Magna leo sapien gravida</h2>
					<p>Gravida at leo elementum elit fusce accumsan dui libero, quis vehicula<br />
					lectus ultricies eu. In convallis amet leo sapien iaculis efficitur.</p>
				</header>
				<ul class="actions special">
					<li><a href="#" class="button primary icon solid fa-download">Download</a></li>
					<li><a href="#" class="button">Learn More</a></li>
				</ul>
			</section>-->

		<!-- Four -->
		<!--
			<section id="four" class="wrapper">
				<div class="inner">

					<header class="major">
						<h2>Elements</h2>
					</header>

					<section>
						<h4>Text</h4>
						<p>This is <b>bold</b> and this is <strong>strong</strong>. This is <i>italic</i> and this is <em>emphasized</em>.
						This is <sup>superscript</sup> text and this is <sub>subscript</sub> text.
						This is <u>underlined</u> and this is code: <code>for (;;) { ... }</code>. Finally, <a href="#">this is a link</a>.</p>
						<hr />
						<header>
							<h4>Heading with a Subtitle</h4>
							<p>Lorem ipsum dolor sit amet nullam id egestas urna aliquam</p>
						</header>
						<p>Nunc lacinia ante nunc ac lobortis. Interdum adipiscing gravida odio porttitor sem non mi integer non faucibus ornare mi ut ante amet placerat aliquet. Volutpat eu sed ante lacinia sapien lorem accumsan varius montes viverra nibh in adipiscing blandit tempus accumsan.</p>
						<header>
							<h5>Heading with a Subtitle</h5>
							<p>Lorem ipsum dolor sit amet nullam id egestas urna aliquam</p>
						</header>
						<p>Nunc lacinia ante nunc ac lobortis. Interdum adipiscing gravida odio porttitor sem non mi integer non faucibus ornare mi ut ante amet placerat aliquet. Volutpat eu sed ante lacinia sapien lorem accumsan varius montes viverra nibh in adipiscing blandit tempus accumsan.</p>
						<hr />
						<h2>Heading Level 2</h2>
						<h3>Heading Level 3</h3>
						<h4>Heading Level 4</h4>
						<h5>Heading Level 5</h5>
						<h6>Heading Level 6</h6>
						<hr />
						<h5>Blockquote</h5>
						<blockquote>Fringilla nisl. Donec accumsan interdum nisi, quis tincidunt felis sagittis eget tempus euismod. Vestibulum ante ipsum primis in faucibus vestibulum. Blandit adipiscing eu felis iaculis volutpat ac adipiscing accumsan faucibus. Vestibulum ante ipsum primis in faucibus lorem ipsum dolor sit amet nullam adipiscing eu felis.</blockquote>
						<h5>Preformatted</h5>
						<pre><code>i = 0;

while (!deck.isInOrder()) {
  print 'Iteration ' + i;
  deck.shuffle();
  i++;
}

print 'It took ' + i + ' iterations to sort the deck.';</code></pre>
					</section>

					<section>
						<h4>Lists</h4>
						<div class="row">
							<div class="col-6 col-12-medium">
								<h5>Unordered</h5>
								<ul>
									<li>Dolor pulvinar etiam.</li>
									<li>Sagittis adipiscing.</li>
									<li>Felis enim feugiat.</li>
								</ul>
								<h5>Alternate</h5>
								<ul class="alt">
									<li>Dolor pulvinar etiam.</li>
									<li>Sagittis adipiscing.</li>
									<li>Felis enim feugiat.</li>
								</ul>
							</div>
							<div class="col-6 col-12-medium">
								<h5>Ordered</h5>
								<ol>
									<li>Dolor pulvinar etiam.</li>
									<li>Etiam vel felis viverra.</li>
									<li>Felis enim feugiat.</li>
									<li>Dolor pulvinar etiam.</li>
									<li>Etiam vel felis lorem.</li>
									<li>Felis enim et feugiat.</li>
								</ol>
								<h5>Icons</h5>
								<ul class="icons">
									<li><a href="#" class="icon brands fa-twitter"><span class="label">Twitter</span></a></li>
									<li><a href="#" class="icon brands fa-facebook-f"><span class="label">Facebook</span></a></li>
									<li><a href="#" class="icon brands fa-instagram"><span class="label">Instagram</span></a></li>
									<li><a href="#" class="icon brands fa-github"><span class="label">Github</span></a></li>
								</ul>
							</div>
						</div>
						<h5>Actions</h5>
						<div class="row">
							<div class="col-6 col-12-medium">
								<ul class="actions">
									<li><a href="#" class="button primary">Default</a></li>
									<li><a href="#" class="button">Default</a></li>
								</ul>
								<ul class="actions small">
									<li><a href="#" class="button primary small">Small</a></li>
									<li><a href="#" class="button small">Small</a></li>
								</ul>
								<ul class="actions stacked">
									<li><a href="#" class="button primary">Default</a></li>
									<li><a href="#" class="button">Default</a></li>
								</ul>
								<ul class="actions stacked">
									<li><a href="#" class="button primary small">Small</a></li>
									<li><a href="#" class="button small">Small</a></li>
								</ul>
							</div>
							<div class="col-6 col-12-medium">
								<ul class="actions stacked">
									<li><a href="#" class="button primary fit">Default</a></li>
									<li><a href="#" class="button fit">Default</a></li>
								</ul>
								<ul class="actions stacked">
									<li><a href="#" class="button primary small fit">Small</a></li>
									<li><a href="#" class="button small fit">Small</a></li>
								</ul>
							</div>
						</div>
					</section>

					<section>
						<h5>Alternate</h5>
						<div class="table-wrapper">
							<table class="alt">
								<thead>
									<tr>
										<th>Name</th>
										<th>Description</th>
										<th>Price</th>
									</tr>
								</thead>
								<tbody>
									<tr>
										<td>Item One</td>
										<td>Ante turpis integer aliquet porttitor.</td>
										<td>29.99</td>
									</tr>
									<tr>
										<td>Item Two</td>
										<td>Vis ac commodo adipiscing arcu aliquet.</td>
										<td>19.99</td>
									</tr>
									<tr>
										<td>Item Three</td>
										<td> Morbi faucibus arcu accumsan lorem.</td>
										<td>29.99</td>
									</tr>
									<tr>
										<td>Item Four</td>
										<td>Vitae integer tempus condimentum.</td>
										<td>19.99</td>
									</tr>
									<tr>
										<td>Item Five</td>
										<td>Ante turpis integer aliquet porttitor.</td>
										<td>29.99</td>
									</tr>
								</tbody>
								<tfoot>
									<tr>
										<td colspan="2"></td>
										<td>100.00</td>
									</tr>
								</tfoot>
							</table>
						</div>
					</section>

					<section>
						<h4>Buttons</h4>
						<ul class="actions">
							<li><a href="#" class="button primary">Primary</a></li>
							<li><a href="#" class="button">Default</a></li>
						</ul>
						<ul class="actions">
							<li><a href="#" class="button large">Large</a></li>
							<li><a href="#" class="button">Default</a></li>
							<li><a href="#" class="button small">Small</a></li>
						</ul>
						<ul class="actions fit">
							<li><a href="#" class="button fit">Fit</a></li>
							<li><a href="#" class="button primary fit">Fit</a></li>
							<li><a href="#" class="button fit">Fit</a></li>
						</ul>
						<ul class="actions fit small">
							<li><a href="#" class="button primary fit small">Fit + Small</a></li>
							<li><a href="#" class="button fit small">Fit + Small</a></li>
							<li><a href="#" class="button primary fit small">Fit + Small</a></li>
						</ul>
						<ul class="actions">
							<li><a href="#" class="button primary icon solid fa-download">Icon</a></li>
							<li><a href="#" class="button icon solid fa-download">Icon</a></li>
						</ul>
						<ul class="actions">
							<li><span class="button primary disabled">Disabled</span></li>
							<li><span class="button disabled">Disabled</span></li>
						</ul>
					</section>

					<section>
						<h4>Form</h4>
						<form method="post" action="#">
							<div class="row gtr-uniform">
								<div class="col-6 col-12-xsmall">
									<input type="text" name="demo-name" id="demo-name" value="" placeholder="Name" />
								</div>
								<div class="col-6 col-12-xsmall">
									<input type="email" name="demo-email" id="demo-email" value="" placeholder="Email" />
								</div>
								<div class="col-12">
									<select name="demo-category" id="demo-category">
										<option value="">- Category -</option>
										<option value="1">Manufacturing</option>
										<option value="1">Shipping</option>
										<option value="1">Administration</option>
										<option value="1">Human Resources</option>
									</select>
								</div>
								<div class="col-4 col-12-small">
									<input type="radio" id="demo-priority-low" name="demo-priority" checked>
									<label for="demo-priority-low">Low</label>
								</div>
								<div class="col-4 col-12-small">
									<input type="radio" id="demo-priority-normal" name="demo-priority">
									<label for="demo-priority-normal">Normal</label>
								</div>
								<div class="col-4 col-12-small">
									<input type="radio" id="demo-priority-high" name="demo-priority">
									<label for="demo-priority-high">High</label>
								</div>
								<div class="col-6 col-12-small">
									<input type="checkbox" id="demo-copy" name="demo-copy">
									<label for="demo-copy">Email me a copy</label>
								</div>
								<div class="col-6 col-12-small">
									<input type="checkbox" id="demo-human" name="demo-human" checked>
									<label for="demo-human">Not a robot</label>
								</div>
								<div class="col-12">
									<textarea name="demo-message" id="demo-message" placeholder="Enter your message" rows="6"></textarea>
								</div>
								<div class="col-12">
									<ul class="actions">
										<li><input type="submit" value="Send Message" class="primary" /></li>
										<li><input type="reset" value="Reset" /></li>
									</ul>
								</div>
							</div>
						</form>
					</section>
				</div>
			</section>
		-->

		<!-- Footer -->
		<footer id="footer">
			<p class="copyright">&copy; My eFridge. Starting template credits: <a href="http://html5up.net">HTML5 UP</a></p>
		</footer>

		<!-- Scripts -->
		<script>
				var expires_in = 0;//global variable to store when an item expires
				var expiration_date;
				function addExpirationInput() {

					var has_exp = document.getElementById("has-exp").value;

					if (has_exp=="Yes") {
						var node = "<div class='col-6 col-12-xsmall' flex='50'>\
										<input type='text' name='demo-email' id='food-exp-date' value='' placeholder='Expiration Date mm/dd/yyyy' style='margin-top: 1%;'/>\
									<div/>";                          
						document.getElementById ("food-form").insertAdjacentHTML('beforeEnd', node);
					}
					else{
						var node = "<div class='col-12'>\
										<select name='food-type' id='food-type' style='margin-top: 1%;'>\
										<option value=''>Select Food Type</option>\
										<option value='Stem'>Edible plant stem – celery, asparagus</option>\
										<option value='Marrow'>Marrow – cucumber, zucchini</option>\
										<option value='Allium'>Allium - garlic, onion</option>\
										<option value='Leafy'>Leafy Greens - lettuce, spinach</option>\
										<option value='Cruciferous'>Cruciferous - broccoli, cabbage</option>\
									</select>\
								</div>";                        
						document.getElementById ("food-form").insertAdjacentHTML('beforeEnd', node);
					}
					var old_submit = document.getElementById("set-input");
					old_submit.remove();
				}
				function addExpiration() {
							var optional_expiration = document.getElementById("has-exp");
							var input = document.getElementById("food-item").value.toLowerCase();
							var has_exp = document.getElementById("has-exp").value;
							if (has_exp=="No"){
								var type = document.getElementById("food-type").value;
								switch(type){
									case "Stem":
										expires_in = 4;
										break;
									case "Marrow":
										expires_in = 5;
										break;
									case "Allium":
										expires_in = 30;
										break;
									case "Leafy":
										expires_in = 5;
										break;
									case "Cruciferous":
										expires_in = 5;
										
								}
								var today= new Date();
								expiration_date = new Date();
								expiration_date.setDate(today.getDate()+expires_in);
								var dd = String(expiration_date.getDate()).padStart(2, '0');
								var mm = String(expiration_date.getMonth() + 1).padStart(2, '0'); //January is 0!
								var yyyy = expiration_date.getFullYear();
								expiration_date = mm + '/' + dd + '/' + yyyy;
							}
							else{
								expiration_date = document.getElementById("food-exp-date").value;
							}
							
							alert("Hey there! That " + input + " expires on " + expiration_date + ".");
							
			}

			// Global variable to hold all items in the fridge.
			var allFridgeItems = [
				{foodItem:"eggs", foodAmount: "12", foodExpDate: "02/25/2022"}, 
				{foodItem:"apples", foodAmount: "2", foodExpDate: "02/20/2022"},
				{foodItem:"milk", foodAmount: "2", foodExpDate: "02/20/2022"}];

			// Initial population of the fridge table with allFridge items.
			const tbody = document.querySelector('tbody');
			allFridgeItems.forEach(item => {
  				const tr = tbody.insertRow();
  				tr.insertCell().innerText = item.foodItem;
				tr.insertCell().innerText = item.foodExpDate;
				tr.insertCell().innerText = item.foodAmount;
			})
			
			//Function to save inputted food items.
			function saveFoodItem() {
				var foodObj = { 
					foodItem: document.getElementById("food-item").value ? document.getElementById("food-item").value : '', 
					foodAmount: document.getElementById("food-amt").value ? document.getElementById("food-amt").value : '', 
					foodExpDate: expiration_date
				};

				//Add new object to allFridgeItems.
				allFridgeItems.push(foodObj);

				//Add new object to fridge table.
				const tbody = document.querySelector('tbody');
				const tr = tbody.insertRow();
				tr.insertCell().innerText = foodObj.foodItem;
				tr.insertCell().innerText = foodObj.foodExpDate;
				tr.insertCell().innerText = foodObj.foodAmount;
			}

		</script>
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/jquery.scrolly.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>
	</body>
</html>